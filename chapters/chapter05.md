# 第5章：プロジェクトマネジメント - デリバリーの管理

## はじめに - 「なぜプロジェクトは炎上するのか？」

「今回のリリース、また延期になりました...」

この言葉、何回言ったことがあるでしょうか。私は数え切れません。

最初の頃は本当に辛かった。
- 月曜：「今週中には終わります！」
- 水曜：「ちょっと遅れそうです...」
- 金曜：「来週まで待ってください...」
- 翌週：「実は設計から見直しが必要で...」

なぜこのようなことが起きるのでしょうか。答えは簡単です。**見積もりが下手だから**です。

いや、正確に言うと「見積もりを『予測』だと思っているから」です。見積もりは予測ではなく「約束」なのです。

この章では、私が炎上プロジェクトを何度も経験して学んだ「燃えないプロジェクトマネジメント」の方法をお伝えします。

## 5.1 プロジェクトマネジメントの基礎 - 「EMとPM、どっちが偉い？」

### EMとPMの役割分担 - よくある戦争を避けるために

「その機能、来週までにできる？」（PM）
「無理です」（EM）
「でも顧客が待ってる」（PM）
「だから無理なものは無理」（EM）

このような不毛な戦いをしていませんか？

実は、この戦いの原因は「役割が曖昧だから」なのです。

**うちのチームでうまくいった役割分担：**

**PM（プロダクトマネージャー）がやること：**
- 「**何を**作るか」を決める（仕様）
- 「**なぜ**必要か」を説明する（価値）
- 「**いつまでに**欲しいか」を伝える（希望）

**EM（エンジニアリングマネージャー）がやること：**
- 「**どうやって**作るか」を決める（設計）
- 「**誰が**作るか」を決める（アサイン）
- 「**いつまでに**できるか」を約束する（コミット）

**一緒にやること：**
- 優先順位を**交渉**する（ケンカじゃなくて）
- リスクを**共有**する（責任の押し付け合いじゃなくて）
- ステークホルダーに**一緒に**説明する（仲間だから）

ポイントは「PMが締切を決める」のではなく「EMが締切を約束する」ということです。これだけで戦争の8割はなくなるでしょう。

### プロジェクトの種類と特性 - 「全部スクラムでやればいい」は間違い

昔、全部のプロジェクトをスクラムでやろうとして大失敗しました。

バグ修正を2週間スプリントで行ったところ、顧客が怒りました。「今すぐ直せ！」と。それは当然のことです。

**プロジェクトの種類別「これが正解」：**

**新機能開発**
- やり方：スクラム（2週間スプリント）
- なぜ：要件がコロコロ変わるから
- 実例：「ユーザーダッシュボード作って」→「やはりグラフも追加」→「あ、CSVエクスポートも」

**🐛 バグ修正**
- やり方：カンバン（即対応）
- なぜ：待ってられないから
- 実例：「ログインできない！」→ その日のうちに修正 → デプロイ

**リファクタリング**
- やり方：計画駆動（しっかり設計）
- なぜ：途中で止められないから
- 実例：「DB移行」は段階的に計画しないと地獄を見る

**🧪 実験・PoC**
- やり方：タイムボックス（1週間で区切る）
- なぜ：ダラダラやると無駄だから
- 実例：「AIチャット導入できるか？」→ 1週間で判断 → ダメなら撤退

**🏗️ インフラ改善**
- やり方：ウォーターフォール（後戻りできない）
- なぜ：失敗したら全員死ぬから
- 実例：「AWS → GCP移行」は綿密な計画が必要

プロジェクトの種類に合わせて手法を変える。これは当たり前のことですが、意外とできていない会社が多いのです。

### プロジェクトライフサイクル

**標準的なフェーズ：**
```
1. 開始（Initiation）
   - ビジネスケースの理解
   - ステークホルダー特定
   - 初期スコープ定義

2. 計画（Planning）
   - 詳細要件定義
   - 技術設計
   - リソース配分
   - スケジュール作成

3. 実行（Execution）
   - 開発作業
   - 進捗管理
   - 品質保証

4. 監視と制御（Monitoring & Control）
   - 進捗トラッキング
   - リスク管理
   - 変更管理

5. 完了（Closure）
   - デリバリー
   - ドキュメント化
   - 振り返り
```

## 5.2 アジャイル開発の実践 - 「スクラムやっているけれど、全然アジャイルではない」

### スクラムフレームワーク - 形だけのスクラムから卒業しよう

「うちもスクラムやっています！」と言う会社が多いですね。

でも実態は：
- スプリントプランニング → 4時間の苦行
- デイリースクラム → 進捗報告会
- スプリントレビュー → 怒られる会
- レトロスペクティブ → 愚痴大会

これは、スクラムではなく「スクラムごっこ」です。

**本当のスクラムはこうやる：**

**スプリント計画（2時間で終わらせる）：**
```
最初の1時間：「何を作る？」
- PM「これとこれお願い」
- チーム「これは入る、これは無理」
- PM「じゃあこっちは？」
- チーム「それならOK」

次の1時間：「どう作る？」
- 設計をホワイトボードに描く
- タスクを付箋に書き出す
- 誰がやるか決める（取り合いになるくらいがいい）
```

**デイリースクラム（本当に15分）：**
```
悪い例：
「昨日はDB設計をしました。今日は実装します。問題ありません」
→ これでは意味がありません

良い例：
「DB設計で悩んでる。正規化すべき？」
「あ、それ前にやったことある。後で話そう」
→ これがチームの助け合いです

スプリントレビュー - 2時間
├── デモ
├── フィードバック収集
└── プロダクトバックログ更新

スプリントレトロスペクティブ - 1.5時間
├── うまくいったこと
├── 改善点
└── アクションアイテム
```

**成果物：**
- プロダクトバックログ
- スプリントバックログ
- インクリメント

### カンバンの活用

**カンバンボードの設計：**
```
| Backlog | Ready | In Progress | Review | Testing | Done |
|---------|-------|-------------|---------|---------|------|
| Story A |       | Story B     |         |         |      |
| Story C |       | [WIP: 3]    | Story D |         |      |
| Story E |       |             |         | Story F |      |
```

**WIP（Work In Progress）制限：**
- 開発者1人あたり1-2タスク
- レビュー待ちは最大3-5件
- ボトルネックの可視化

**メトリクス：**
- リードタイム（開始から完了まで）
- サイクルタイム（作業開始から完了まで）
- スループット（完了タスク数/週）

### ハイブリッドアプローチ

**スクラムバン（Scrumban）：**
```
スクラムの要素：
- 定期的な計画会議
- デイリースタンドアップ
- レトロスペクティブ

カンバンの要素：
- 継続的なフロー
- WIP制限
- プル型システム

適用場面：
- サポート業務と開発の混在
- 優先順位が頻繁に変わる
- 小規模チーム
```

## 5.3 プロジェクト計画

### 要件定義と分析

**要件収集のテクニック：**
```
ユーザーストーリー形式：
As a [ユーザータイプ]
I want [機能/能力]
So that [ビジネス価値]

例：
As a モバイルユーザー
I want プッシュ通知を受け取る
So that 重要な更新を見逃さない

受け入れ基準：
- 通知の有効/無効を切り替えられる
- 通知タイプを選択できる
- 静音時間を設定できる
```

**要件の優先順位付け（MoSCoW）：**
- **M**ust have：必須要件
- **S**hould have：重要だが必須ではない
- **C**ould have：あれば良い
- **W**on't have：今回は対象外

### 見積もり技法

**ストーリーポイント見積もり：**
```
フィボナッチ数列：1, 2, 3, 5, 8, 13, 21

考慮要素：
- 複雑性（Complexity）
- 作業量（Effort）
- リスク（Risk）
- 不確実性（Uncertainty）

プランニングポーカー：
1. ストーリーの説明
2. 質疑応答
3. 各自が見積もり
4. 同時に開示
5. 差が大きければ議論
6. 再見積もり
```

**三点見積もり：**
```
楽観的見積もり（O）：最良のケース
最可能見積もり（M）：最も可能性が高い
悲観的見積もり（P）：最悪のケース

期待値 = (O + 4M + P) / 6
標準偏差 = (P - O) / 6
```

### スケジュール作成

**ガントチャートの活用：**
```
タスク        | 週1 | 週2 | 週3 | 週4 |
-------------|-----|-----|-----|-----|
要件定義      | ███ |     |     |     |
設計         |     | ███ |     |     |
バックエンド  |     | ░░░ | ███ | ░░░ |
フロントエンド|     |     | ███ | ███ |
テスト       |     |     |     | ███ |

█ = 実施期間
░ = バッファ
```

**クリティカルパスの特定：**
- 最長経路の特定
- 遅延が全体に影響するタスク
- リソースの優先配分
- リスク管理の重点

### リソース計画

**チーム編成の考慮事項：**
```
スキルマトリックス：

メンバー | Backend | Frontend | DB | DevOps | 稼働率
---------|---------|----------|-----|--------|-------
Alice    | ★★★    | ★★      | ★★ | ★      | 100%
Bob      | ★★     | ★★★     | ★  | ★★     | 80%
Carol    | ★★★    | ★        | ★★★| ★★    | 100%
David    | ★       | ★★★     | ★  | ★★★   | 60%
```

**リソース配分の原則：**
- コアメンバーの確保
- スキルバランス
- 知識の冗長性
- 成長機会の考慮

## 5.4 進捗管理とトラッキング

### バーンダウンチャート

**理想的なバーンダウン：**
```
ストーリーポイント
100 |＼
 80 | ＼＼
 60 |  ＼＼＼
 40 |   ＼＼＼＼
 20 |    ＼＼＼＼＼
  0 |_____＼＼＼＼＼
    1  2  3  4  5 (日)

━ 理想線
＼ 実績線
```

**パターン分析：**
- 急降下：見積もり過大またはスコープ削減
- 平坦：ブロッカーまたはリソース不足
- 上昇：スコープクリープ
- ジグザグ：不安定な進捗

### ベロシティの測定と改善

**ベロシティ計算：**
```
スプリント | 計画 | 完了 | ベロシティ
-----------|------|------|----------
Sprint 1   | 40   | 35   | 35
Sprint 2   | 38   | 42   | 42
Sprint 3   | 40   | 38   | 38
Sprint 4   | 40   | 41   | 41

平均ベロシティ = 39
標準偏差 = 3.16
予測可能性 = 92%
```

**ベロシティ向上施策：**
- 技術的負債の削減
- 自動化の推進
- ペアプログラミング
- 継続的なスキル向上

### ダッシュボードとレポート

**プロジェクトダッシュボード例：**
```
プロジェクト状態：🟢 On Track

進捗：
[████████░░] 80% 完了

主要メトリクス：
- 完了ストーリー：24/30
- 残バグ数：5（Critical: 0）
- コードカバレッジ：85%
- デプロイ頻度：2回/週

今週のハイライト：
- APIエンドポイント完成
- フロントエンド統合開始
- パフォーマンステスト遅延（注意が必要）

来週の予定：
- ユーザー受入テスト
- セキュリティレビュー
- 本番環境準備
```

**ステークホルダーレポート：**
```
エグゼクティブサマリー：
- 全体進捗：予定通り
- 予算消化：計画内（75%）
- 主要リスク：なし
- 次のマイルストーン：2週間後

詳細：
[グラフやチャート]
[主要な決定事項]
[エスカレーション項目]
```

## 5.5 リスク管理

### リスクの識別と評価

**リスクマトリックス：**
```
影響度
高 | 🟡中    | 🔴高    | 🔴極高
中 | 🟢低    | 🟡中    | 🔴高
低 | 🟢極低  | 🟢低    | 🟡中
   |---------|---------|--------
     低       中       高
            発生確率
```

**一般的なプロジェクトリスク：**
```
技術リスク：
- 新技術の学習曲線
- 統合の複雑性
- パフォーマンス問題
- セキュリティ脆弱性

リソースリスク：
- キーパーソンの離脱
- スキル不足
- 外部依存
- 予算超過

スケジュールリスク：
- 見積もりの甘さ
- スコープクリープ
- 依存関係の遅延
- 承認プロセスの遅延
```

### リスク対応戦略

**4つの対応戦略：**
```
1. 回避（Avoid）
   例：リスクの高い技術を使わない

2. 軽減（Mitigate）
   例：プロトタイプで検証する

3. 転嫁（Transfer）
   例：外部ベンダーに委託

4. 受容（Accept）
   例：低影響のリスクは許容
```

**リスクレジスター：**
| ID | リスク | 確率 | 影響 | 対応策 | 責任者 | 状態 |
|----|--------|------|------|--------|--------|------|
| R1 | APIレスポンス遅延 | 高 | 中 | キャッシュ実装 | Alice | 対応中 |
| R2 | 外部API変更 | 低 | 高 | バージョン固定 | Bob | 監視中 |
| R3 | データ移行失敗 | 中 | 高 | バックアップ準備 | Carol | 計画済 |

### コンティンジェンシープラン

**バッファの設定：**
```
スケジュールバッファ：
- 各タスク：見積もりの20%
- 全体：プロジェクト期間の15%

予算バッファ：
- 予測可能リスク：10%
- 予測不能リスク：5-10%

リソースバッファ：
- クリティカルパス：専任化
- 非クリティカル：20%余裕
```

## 5.6 品質管理

### 品質基準の定義

**品質メトリクス：**
```
コード品質：
- 単体テストカバレッジ：>80%
- 統合テストカバレッジ：>70%
- 静的解析エラー：0
- 循環的複雑度：<10

パフォーマンス：
- API応答時間：<200ms（p95）
- ページロード時間：<2秒
- 同時接続数：>1000
- CPU使用率：<70%

信頼性：
- 可用性：99.9%
- MTBF：>720時間
- MTTR：<30分
- エラー率：<0.1%
```

### コードレビューのプロセス

**レビューチェックリスト：**
```
機能性：
- [ ] 要件を満たしている
- [ ] エッジケースの考慮
- [ ] エラーハンドリング

可読性：
- [ ] 命名規則の遵守
- [ ] 適切なコメント
- [ ] 一貫したスタイル

保守性：
- [ ] DRY原則
- [ ] SOLID原則
- [ ] 適切な抽象化

パフォーマンス：
- [ ] 効率的なアルゴリズム
- [ ] 不要な処理の排除
- [ ] リソースの適切な管理

セキュリティ：
- [ ] 入力検証
- [ ] 認証・認可
- [ ] データ暗号化
```

**レビューのベストプラクティス：**
- PRサイズは200-400行以内
- 24時間以内にレビュー
- 建設的なフィードバック
- 承認基準の明確化

### テスト戦略

**テストピラミッド：**
```
         /\
        /E2E\        少量・遅い・高コスト
       /------\
      /統合テスト\    中量・中速・中コスト
     /----------\
    /単体テスト    \   大量・速い・低コスト
   /--------------\
```

**テストの種類と目的：**
```
単体テスト：
- 個別関数/メソッドの検証
- 高速実行
- TDD/BDDの実践

統合テスト：
- コンポーネント間の連携
- API契約の検証
- データベース統合

E2Eテスト：
- ユーザーシナリオの検証
- クリティカルパスのカバー
- 本番環境に近い条件

その他：
- パフォーマンステスト
- セキュリティテスト
- カオステスト
- A/Bテスト
```

### 継続的インテグレーション/デリバリー（CI/CD）

**CI/CDパイプライン：**
```
[コミット] → [ビルド] → [単体テスト] → [統合テスト] 
    ↓                                         ↓
[マージ] ← [コードレビュー] ← [静的解析] ← [品質ゲート]
    ↓
[ステージング展開] → [E2Eテスト] → [承認] → [本番展開]
```

**自動化のレベル：**
```
Level 1：ビルド自動化
- コンパイル
- 依存関係解決
- パッケージング

Level 2：テスト自動化
- 単体テスト実行
- カバレッジ測定
- レポート生成

Level 3：デプロイ自動化
- 環境プロビジョニング
- アプリケーション展開
- ロールバック機能

Level 4：完全自動化
- 自動承認フロー
- カナリアリリース
- 自動ロールバック
```

## 5.7 ステークホルダー管理

### ステークホルダーマッピング

**影響度/関心度マトリックス：**
```
関心度
高 | Keep Informed | Manage Closely
   | (定期更新)     | (密接に管理)
   |               |
低 | Monitor       | Keep Satisfied
   | (最小限の労力) | (満足を維持)
   |---------------|---------------
     低             高
           影響度
```

**ステークホルダー分析：**
| ステークホルダー | 関心事 | 影響度 | コミュニケーション頻度 |
|-----------------|--------|--------|---------------------|
| CEO/CTO | ビジネス価値 | 高 | 月次 |
| プロダクトマネージャー | 機能・納期 | 高 | 日次 |
| 営業チーム | リリース日 | 中 | 週次 |
| カスタマーサポート | 品質・ドキュメント | 中 | 隔週 |
| エンドユーザー | 使いやすさ | 低 | リリース時 |

### コミュニケーション計画

**コミュニケーションマトリックス：**
```
情報タイプ    | 対象者 | 頻度 | 方法 | 責任者
-------------|--------|------|------|-------
進捗報告      | 全員   | 週次 | メール | EM
技術的決定    | 開発   | 随時 | Slack | テックリード
リスク        | 経営層 | 月次 | 会議 | EM
リリース計画  | 全員   | 隔週 | Wiki | PM
インシデント  | 関係者 | 即時 | 電話/Slack | On-call
```

### 期待値管理

**期待値調整のテクニック：**
```
アンダープロミス・オーバーデリバー：
- 保守的な見積もり
- バッファの確保
- 早期の成果提供

透明性の確保：
- 定期的な進捗共有
- 問題の早期エスカレーション
- 意思決定の根拠説明

スコープ管理：
- 変更要求の文書化
- トレードオフの明確化
- MVP思考の促進
```

## 5.8 アジャイルの規模拡大

### SAFe（Scaled Agile Framework）

**SAFeの階層：**
```
ポートフォリオ層
├── 戦略テーマ
├── エピック
└── 投資判断

プログラム層
├── ARTｓ（Agile Release Trains）
├── PI（Program Increment）計画
└── システムデモ

チーム層
├── スクラムチーム
├── カンバンチーム
└── デイリー活動
```

**PI計画の実施：**
```
Day 1：
- ビジネスコンテキスト
- プロダクトビジョン
- アーキテクチャビジョン
- チーム計画（初回）

Day 2：
- チーム計画（継続）
- ドラフトレビュー
- リスク識別
- 信頼度投票
- 計画確定
```

### LeSS（Large-Scale Scrum）

**LeSSの原則：**
- 大規模スクラムはスクラム
- 透明性の維持
- More with LeSS（少ない方が良い）
- 全体最適化
- 顧客中心

**実装パターン：**
```
基本LeSS（2-8チーム）：
- 1つのプロダクトバックログ
- 1人のプロダクトオーナー
- 共通のスプリント
- 統合されたインクリメント

LeSS Huge（8+チーム）：
- エリアプロダクトオーナー
- 要求エリア
- エリアバックログ
```

## 5.9 技術的負債の管理

### 技術的負債の可視化

**負債の分類：**
```
意図的な負債：
- 市場投入を優先
- 一時的な回避策
- 計画的な後回し

非意図的な負債：
- 設計の甘さ
- 知識不足
- 要件変更の蓄積

負債の影響：
- 開発速度の低下
- バグの増加
- 保守コストの上昇
- イノベーションの阻害
```

**負債の定量化：**
```
メトリクス：
- SQALE指数
- 修正コスト見積もり
- 複雑度スコア
- 重複コード率

優先順位付け：
影響度 × 頻度 × 修正容易性 = 優先度スコア
```

### 返済戦略

**ボーイスカウトルール：**
「コードを見つけた時よりも綺麗にして去る」

**返済アプローチ：**
```
20%ルール：
- 各スプリントの20%を負債返済に割り当て

リファクタリングスプリント：
- 四半期に1回、負債返済に専念

機能開発と並行：
- 新機能開発時に関連部分をリファクタリング

大規模リライト：
- 重要なコンポーネントの完全書き換え
- リスクが高いため慎重に判断
```

## 5.10 クライシス管理

### インシデント対応

**インシデントレベル：**
```
SEV1（Critical）：
- サービス全体のダウン
- データ損失のリスク
- セキュリティ侵害
対応：全員集合、経営層報告

SEV2（Major）：
- 一部機能の停止
- パフォーマンス大幅劣化
対応：担当チーム対応、定期報告

SEV3（Minor）：
- 限定的な影響
- 回避策あり
対応：通常運用内で対応
```

**インシデントコマンド体制：**
```
役割分担：
- Incident Commander：全体指揮
- Tech Lead：技術的解決
- Comm Lead：コミュニケーション
- Scribe：記録係
```

### ポストモーテム

**Blameless Postmortem：**
```
構成：
1. インシデント概要
2. タイムライン
3. 根本原因分析（5 Whys）
4. 影響範囲
5. 良かった点
6. 改善点
7. アクションアイテム

原則：
- 非難しない
- 学習にフォーカス
- 透明性の確保
- 改善の実行
```

## まとめ

プロジェクトマネジメントは、エンジニアリングマネージャーの中核的な責任です。技術的な卓越性とビジネス価値の創出のバランスを取りながら、予測可能な形で成果を届けることが求められます。

アジャイル手法の実践は、不確実性の高い環境での適応力を提供しますが、それだけでは不十分です。適切な計画、リスク管理、品質保証、ステークホルダー管理を組み合わせることで、プロジェクトの成功確率を大幅に高めることができます。

重要なのは、方法論に固執することなく、チームと組織の文脈に応じて最適なアプローチを選択することです。継続的な改善と学習を通じて、チームのデリバリー能力を向上させ続けることが、優れたエンジニアリングマネージャーの証です。

次章では、技術的意思決定について詳しく見ていきます。アーキテクチャの選択、技術スタックの決定、イノベーションと安定性のバランスなど、長期的な技術戦略の構築方法を探求します。

## 実践チェックリスト

### プロジェクト開始時
- [ ] ステークホルダーの特定と分析
- [ ] プロジェクトチャーターの作成
- [ ] チーム編成とキックオフ
- [ ] 初期リスク評価
- [ ] コミュニケーション計画策定

### 計画フェーズ
- [ ] 要件の明確化と優先順位付け
- [ ] 見積もりとスケジュール作成
- [ ] リソース配分計画
- [ ] 品質基準の定義
- [ ] リスク対応計画

### 実行フェーズ
- [ ] 定期的な進捗確認
- [ ] バーンダウンチャート更新
- [ ] ステークホルダー報告
- [ ] リスクモニタリング
- [ ] 品質メトリクス測定

### 監視と制御
- [ ] スコープ変更管理
- [ ] 課題トラッキング
- [ ] ベロシティ分析
- [ ] 予算管理
- [ ] チーム健全性確認

### プロジェクト完了
- [ ] 成果物の検証
- [ ] ドキュメント整備
- [ ] レトロスペクティブ実施
- [ ] 知識の文書化
- [ ] 成功/失敗要因の分析